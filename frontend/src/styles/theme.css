/* Global Theme System */
:root {
  /* Default theme colors (Test mode) */
  --theme-primary: #4CAF50;
  --theme-secondary: #66BB6A;
  --theme-light: #E8F5E8;
  --theme-dark: #2E7D32;
  --theme-mode: 'test';
  
  /* Transitions */
  --theme-transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* Global theme transitions */
* {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
}

/* Theme-based button styling */
.add-client-btn,
.btn-primary,
.primary-button {
  background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%) !important;
  border-color: var(--theme-primary) !important;
  color: white !important;
  transition: var(--theme-transition);
}

.add-client-btn:hover:not(:disabled),
.btn-primary:hover:not(:disabled),
.primary-button:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--theme-dark) 0%, var(--theme-primary) 100%) !important;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(var(--theme-primary-rgb), 0.3);
}

/* Theme-based secondary buttons */
.btn-secondary,
.secondary-button {
  background: var(--theme-light) !important;
  border-color: var(--theme-primary) !important;
  color: var(--theme-dark) !important;
}

.btn-secondary:hover:not(:disabled),
.secondary-button:hover:not(:disabled) {
  background: var(--theme-primary) !important;
  color: white !important;
}

/* Theme-based input fields */
input[type="text"],
input[type="number"],
input[type="email"],
input[type="password"],
select,
textarea {
  border-color: rgba(var(--theme-primary-rgb), 0.3) !important;
  transition: var(--theme-transition);
}

input[type="text"]:focus,
input[type="number"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
select:focus,
textarea:focus {
  border-color: var(--theme-primary) !important;
  box-shadow: 0 0 0 3px rgba(var(--theme-primary-rgb), 0.1) !important;
}

/* Theme-based form labels */
.form-group label,
.form-label {
  color: var(--theme-dark) !important;
  font-weight: 600;
}

/* Theme-based cards and containers */
.stat-card,
.card,
.popup-content {
  border-left-color: var(--theme-primary) !important;
}

.stat-card:hover,
.card:hover {
  box-shadow: 0 4px 20px rgba(var(--theme-primary-rgb), 0.15) !important;
}

/* Theme-based links and navigation */
.nav-link.active,
.sidebar-item.active {
  background: var(--theme-light) !important;
  color: var(--theme-dark) !important;
  border-right: 3px solid var(--theme-primary) !important;
}

/* Theme-based progress indicators */
.progress-bar,
.loading-bar {
  background: var(--theme-primary) !important;
}

/* Theme-based badges and chips */
.badge,
.chip,
.tag {
  background: var(--theme-light) !important;
  color: var(--theme-dark) !important;
  border: 1px solid var(--theme-primary) !important;
}

/* Theme-based alerts and notifications */
.success-message,
.notification-success {
  background: var(--theme-light) !important;
  color: var(--theme-dark) !important;
  border-left: 4px solid var(--theme-primary) !important;
}

/* Mode-specific page backgrounds */
body.theme-test {
  --theme-primary-rgb: 76, 175, 80;
}

body.theme-quotation {
  --theme-primary-rgb: 33, 150, 243;
}

body.theme-manufacturer {
  --theme-primary-rgb: 141, 110, 99;
}

/* Theme-based table headers */
.table-header,
.table th {
  background: var(--theme-light) !important;
  color: var(--theme-dark) !important;
  border-bottom: 2px solid var(--theme-primary) !important;
}

/* Theme-based pagination */
.pagination-btn:not(:disabled) {
  background: var(--theme-light) !important;
  color: var(--theme-dark) !important;
  border: 1px solid var(--theme-primary) !important;
}

.pagination-btn:not(:disabled):hover {
  background: var(--theme-primary) !important;
  color: white !important;
}

/* Theme-based checkboxes and radios */
input[type="checkbox"]:checked,
input[type="radio"]:checked {
  background-color: var(--theme-primary) !important;
  border-color: var(--theme-primary) !important;
}

/* Theme-based scrollbars */
::-webkit-scrollbar-thumb {
  background: var(--theme-primary) !important;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--theme-dark) !important;
}

/* Theme-based selection */
::selection {
  background: var(--theme-light) !important;
  color: var(--theme-dark) !important;
}

/* Theme transitions for smooth mode switching */
.page-container,
.main-content,
.popup-content,
.sidebar {
  transition: var(--theme-transition);
}

/* Override for manufacturing export button to use theme colors */
.export-btn.manufacturer-export {
  background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%) !important;
}

.export-btn.manufacturer-export:hover:not(:disabled) {
  background: linear-gradient(135deg, var(--theme-dark) 0%, var(--theme-primary) 100%) !important;
}

/* Dark Mode Theme Variables */
[data-theme="dark"] {
  --background-color: #1a1b23;
  --surface-color: #2d2e37;
  --text-primary: #f1f5f9;
  --text-secondary: #cbd5e1;
  --text-muted: #94a3b8;
  --border-color: #475569;
  --border-light: #64748b;
  --shadow-light: rgba(0, 0, 0, 0.4);
  --shadow-medium: rgba(0, 0, 0, 0.6);
  --hover-bg: #475569;
  --input-bg: #475569;
  --card-bg: #334155;
}

/* Light Mode Theme Variables */
[data-theme="light"] {
  --background-color: #f8fafc;
  --surface-color: #ffffff;
  --text-primary: #1f2937;
  --text-secondary: #6b7280;
  --text-muted: #9ca3af;
  --border-color: #e5e7eb;
  --border-light: #f3f4f6;
  --shadow-light: rgba(0, 0, 0, 0.1);
  --shadow-medium: rgba(0, 0, 0, 0.15);
  --hover-bg: #f9fafb;
  --input-bg: #ffffff;
  --card-bg: #ffffff;
}

/* Dark Mode Global Styles */
[data-theme="dark"] body {
  background-color: var(--background-color);
  color: var(--text-primary);
}

[data-theme="dark"] .page-container,
[data-theme="dark"] .main-content {
  background-color: var(--background-color);
  color: var(--text-primary);
}

[data-theme="dark"] .card,
[data-theme="dark"] .settings-section,
[data-theme="dark"] .popup-content,
[data-theme="dark"] .modal-content {
  background-color: var(--card-bg);
  border-color: var(--border-color);
  color: var(--text-primary);
}

[data-theme="dark"] input,
[data-theme="dark"] select,
[data-theme="dark"] textarea {
  background-color: var(--input-bg);
  border-color: var(--border-color);
  color: var(--text-primary);
}

[data-theme="dark"] input:focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus {
  border-color: var(--theme-primary);
  box-shadow: 0 0 0 3px rgba(var(--theme-primary-rgb, 76, 175, 80), 0.1);
}

[data-theme="dark"] .sidebar {
  background-color: var(--surface-color);
  border-color: var(--border-color);
}

[data-theme="dark"] .nav-item {
  color: var(--text-secondary);
}

[data-theme="dark"] .nav-item:hover,
[data-theme="dark"] .nav-item.active {
  background-color: var(--hover-bg);
  color: var(--text-primary);
}

[data-theme="dark"] table {
  background-color: var(--card-bg);
  color: var(--text-primary);
}

[data-theme="dark"] th,
[data-theme="dark"] td {
  border-color: var(--border-color);
}

[data-theme="dark"] .btn-secondary {
  background-color: var(--surface-color);
  border-color: var(--border-color);
  color: var(--text-primary);
}

[data-theme="dark"] .btn-secondary:hover {
  background-color: var(--hover-bg);
}

/* Dark mode scrollbar */
[data-theme="dark"] ::-webkit-scrollbar {
  background-color: var(--background-color);
}

[data-theme="dark"] ::-webkit-scrollbar-track {
  background-color: var(--surface-color);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background-color: var(--text-muted);
}

/* Enhanced Global Dark Mode Support */

/* Global text selection in dark mode */
[data-theme="dark"] ::selection {
  background: rgba(102, 126, 234, 0.3);
  color: var(--text-primary);
}

/* Global modals and overlays in dark mode */
[data-theme="dark"] .modal-overlay,
[data-theme="dark"] .overlay {
  background: rgba(0, 0, 0, 0.8);
}

[data-theme="dark"] .dropdown-menu,
[data-theme="dark"] .context-menu {
  background: var(--card-bg);
  border-color: var(--border-color);
  color: var(--text-primary);
  box-shadow: var(--shadow-medium);
}

[data-theme="dark"] .dropdown-item:hover,
[data-theme="dark"] .context-menu-item:hover {
  background: var(--hover-bg);
  color: var(--text-primary);
}

/* Global alerts and notifications in dark mode */
[data-theme="dark"] .alert {
  background: var(--surface-color);
  border-color: var(--border-color);
  color: var(--text-primary);
}

[data-theme="dark"] .alert-success {
  background: rgba(34, 197, 94, 0.15);
  border-color: #059669;
  color: #10b981;
}

[data-theme="dark"] .alert-warning {
  background: rgba(245, 158, 11, 0.15);
  border-color: #d97706;
  color: #f59e0b;
}

[data-theme="dark"] .alert-error,
[data-theme="dark"] .alert-danger {
  background: rgba(239, 68, 68, 0.15);
  border-color: #dc2626;
  color: #ef4444;
}

[data-theme="dark"] .alert-info {
  background: rgba(59, 130, 246, 0.15);
  border-color: #3b82f6;
  color: #60a5fa;
}

/* Global tooltips in dark mode */
[data-theme="dark"] .tooltip {
  background: var(--surface-color);
  border-color: var(--border-color);
  color: var(--text-primary);
  box-shadow: var(--shadow-medium);
}

/* Global badges and labels in dark mode */
[data-theme="dark"] .badge,
[data-theme="dark"] .label {
  background: var(--surface-color);
  color: var(--text-primary);
  border-color: var(--border-color);
}

[data-theme="dark"] .badge-primary {
  background: #667eea;
  color: white;
}

[data-theme="dark"] .badge-success {
  background: #10b981;
  color: white;
}

[data-theme="dark"] .badge-warning {
  background: #f59e0b;
  color: white;
}

[data-theme="dark"] .badge-danger {
  background: #ef4444;
  color: white;
}

/* Global loading states in dark mode */
[data-theme="dark"] .loading,
[data-theme="dark"] .spinner {
  border-color: var(--border-color);
  border-top-color: #667eea;
}

/* Global disabled states in dark mode */
[data-theme="dark"] button:disabled,
[data-theme="dark"] input:disabled,
[data-theme="dark"] select:disabled,
[data-theme="dark"] textarea:disabled {
  background: var(--surface-color);
  color: var(--text-muted);
  border-color: var(--border-color);
  opacity: 0.6;
  cursor: not-allowed;
}

/* Global focus states for accessibility in dark mode */
[data-theme="dark"] *:focus {
  outline: 2px solid rgba(102, 126, 234, 0.5);
  outline-offset: 2px;
}

[data-theme="dark"] button:focus,
[data-theme="dark"] input:focus,
[data-theme="dark"] select:focus,
[data-theme="dark"] textarea:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
}

/* Global link styles in dark mode */
[data-theme="dark"] a {
  color: #8b9aff;
}

[data-theme="dark"] a:hover {
  color: #a5b4ff;
  text-decoration: underline;
}

[data-theme="dark"] a:visited {
  color: #b794f6;
}

/* Global code and pre blocks in dark mode */
[data-theme="dark"] code,
[data-theme="dark"] pre {
  background: var(--surface-color);
  color: var(--text-primary);
  border-color: var(--border-color);
}

/* Global HR elements in dark mode */
[data-theme="dark"] hr {
  border-color: var(--border-color);
  background: var(--border-color);
}

/* Global blockquotes in dark mode */
[data-theme="dark"] blockquote {
  background: var(--surface-color);
  border-left-color: #667eea;
  color: var(--text-secondary);
}